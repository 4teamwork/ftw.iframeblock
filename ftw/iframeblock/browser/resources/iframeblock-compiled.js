!function(){"use strict";window.onIframeLoaded=function(e){$(e).prev().removeClass("loading")}}(),define("iframeblock",function(){}),function(e){function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(e,n,i){e.addEventListener(n,i,!1)}function t(e,n,i){e.removeEventListener(n,i,!1)}function o(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!B;e+=1)B=window[n[e]+"RequestAnimationFrame"];B?B=B.bind(window):c("setup","RequestAnimationFrame not supported")}function r(e){var n="Host page: "+e;return window.top!==window.self&&(n=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),n}function a(e){return P+"["+r(e)+"]"}function u(e){return V[e]?V[e].log:S}function c(e,n){f("log",e,n,u(e))}function d(e,n){f("info",e,n,u(e))}function s(e,n){f("warn",e,n,!0)}function f(e,n,i,t){!0===t&&"object"==typeof window.console&&console[e](a(n),i)}function l(e){function n(){function e(){v(S),p(H),W("onResized",S)}a("Height"),a("Width"),I(e,S,"init")}function o(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function r(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function a(e){var n=Number(V[H]["max"+e]),i=Number(V[H]["min"+e]),t=e.toLowerCase(),o=Number(S[t]);c(H,"Checking "+t+" is in range "+i+"-"+n),o<i&&(o=i,c(H,"Set "+t+" to min value")),o>n&&(o=n,c(H,"Set "+t+" to max value")),S[t]=""+o}function u(e){return N.substr(N.indexOf(":")+j+e)}function f(e){c(H,"onMessage passed: {iframe: "+S.iframe.id+", message: "+e+"}"),W("onMessage",{iframe:S.iframe,message:JSON.parse(e)}),c(H,"--")}function l(){var e=document.body.getBoundingClientRect(),n=S.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(n.top-e.top,10),offsetLeft:parseInt(n.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}function g(e,n){function i(){x("Send Page Info","pageInfo:"+l(),e,n)}M(i,32,n)}function z(){function e(e,i){function t(){V[o]?g(V[o].iframe,o):n()}["scroll","resize"].forEach(function(n){c(o,e+n+" listener for sendPageInfo"),i(window,n,t)})}function n(){e("Remove ",t)}var o=H;!function(){e("Add ",i)}(),V[o]&&(V[o].stopPageInfo=n)}function F(){V[H]&&V[H].stopPageInfo&&(V[H].stopPageInfo(),delete V[H].stopPageInfo)}function R(e){var n=e.getBoundingClientRect();return w(H),{x:Math.floor(Number(n.left)+Number(L.x)),y:Math.floor(Number(n.top)+Number(L.y))}}function O(e){var n=e?R(S.iframe):{x:0,y:0},i=function(){return{x:Number(S.width)+n.x,y:Number(S.height)+n.y}}();c(H,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?function(){window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):s(H,"Unable to scroll to requested position, window.parentIFrame not found")}():function(){L=i,T(),c(H,"--")}()}function T(){!1!==W("onScroll",L)?p(H):b()}function E(e){var n=e.split("#")[1]||"",i=decodeURIComponent(n),t=document.getElementById(i)||document.getElementsByName(i)[0];t?function(){var e=R(t);c(H,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),L={x:e.x,y:e.y},T(),c(H,"--")}():window.top!==window.self?function(){window.parentIFrame?window.parentIFrame.moveToAnchor(n):c(H,"In page link #"+n+" not found and window.parentIFrame not found")}():c(H,"In page link #"+n+" not found")}function W(e,n){return m(H,e,n)}function C(){V[H]&&(V[H].firstRun=!1)}var N=e.data,S={},H=null;"[iFrameResizerChild]Ready"===N?function(){for(var e in V)x("iFrame requested init",k(e),V[e].iframe,e)}():function(){return P===(""+N).substr(0,A)&&N.substr(A).split(":")[0]in V}()?(S=function(){var e=N.substr(A).split(":"),n=e[1]?parseInt(e[1],10):0,i=V[e[0]]&&V[e[0]].iframe,t=getComputedStyle(i);return{iframe:i,id:e[0],height:n+o(t)+r(t),width:e[2],type:e[3]}}(),H=S.id,V[H]&&(V[H].loaded=!0),!function(){var e=S.type in{true:1,false:1,undefined:1};return e&&c(H,"Ignoring init message from meta parent page"),e}()&&function(e){var n=!0;return V[e]||(n=!1,s(S.type+" No settings for "+e+". Message was: "+N)),n}(H)&&(c(H,"Received: "+N),function(){var e=!0;return null===S.iframe&&(s(H,"IFrame ("+S.id+") not found"),e=!1),e}()&&function(){var n=e.origin,i=V[H]&&V[H].checkOrigin;if(i&&""+n!="null"&&!function(){return i.constructor===Array?function(){var e=0,t=!1;for(c(H,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===n){t=!0;break}return t}():function(){var e=V[H]&&V[H].remoteHost;return c(H,"Checking connection is from: "+e),n===e}()}())throw new Error("Unexpected message received from: "+n+" for "+S.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(V[H]&&V[H].firstRun&&C(),S.type){case"close":h(S.iframe);break;case"message":f(u(6));break;case"autoResize":V[H].autoResize=JSON.parse(u(9));break;case"scrollTo":O(!1);break;case"scrollToOffset":O(!0);break;case"pageInfo":g(V[H]&&V[H].iframe,H),z();break;case"pageInfoStop":F();break;case"inPageLink":E(u(9));break;case"reset":y(S);break;case"init":n(),W("onInit",S.iframe);break;default:n()}}())):d(H,"Ignored: "+N)}function m(e,n,i){var t=null,o=null;if(V[e]){if("function"!=typeof(t=V[e][n]))throw new TypeError(n+" on iFrame["+e+"] is not a function");o=t(i)}return o}function g(e){var n=e.id;delete V[n]}function h(e){var n=e.id;if(!1===m(n,"onClose",n))return void c(n,"Close iframe cancelled by onClose event");c(n,"Removing iFrame: "+n);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){s(e)}m(n,"onClosed",n),c(n,"--"),g(e)}function w(n){null===L&&(L={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop},c(n,"Get page position: "+L.x+","+L.y))}function p(e){null!==L&&(window.scrollTo(L.x,L.y),c(e,"Set page position: "+L.x+","+L.y),b())}function b(){L=null}function y(e){function n(){v(e),x("reset","reset",e.iframe,e.id)}c(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),w(e.id),I(n,e,"reset")}function v(e){function n(n){if(!e.id)return void c("undefined","messageData id not set");e.iframe.style[n]=e[n]+"px",c(e.id,"IFrame ("+o+") "+n+" set to "+e[n]+"px")}function i(n){H||"0"!==e[n]||(H=!0,c(o,"Hidden iFrame detected, creating visibility listener"),R())}function t(e){n(e),i(e)}var o=e.iframe.id;V[o]&&(V[o].sizeHeight&&t("height"),V[o].sizeWidth&&t("width"))}function I(e,n,i){i!==n.type&&B&&!window.jasmine?(c(n.id,"Requesting animation frame"),B(e)):e()}function x(e,n,i,t,o){function r(){var o=V[t]&&V[t].targetOrigin;c(t,"["+e+"] Sending msg to iframe["+t+"] ("+n+") targetOrigin: "+o),i.contentWindow.postMessage(P+n,o)}function a(){s(t,"["+e+"] IFrame("+t+") not found")}var u=!1;t=t||i.id,V[t]&&(function(){i&&"contentWindow"in i&&null!==i.contentWindow?r():a()}(),function(){function e(){!V[t]||V[t].loaded||u||(u=!0,s(t,"IFrame has not responded within "+V[t].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}o&&V[t]&&V[t].warningTimeout&&(V[t].msgTimeout=setTimeout(e,V[t].warningTimeout))}())}function k(e){return e+":"+V[e].bodyMarginV1+":"+V[e].sizeWidth+":"+V[e].log+":"+V[e].interval+":"+V[e].enablePublicMethods+":"+V[e].autoResize+":"+V[e].bodyMargin+":"+V[e].heightCalculationMethod+":"+V[e].bodyBackground+":"+V[e].bodyPadding+":"+V[e].tolerance+":"+V[e].inPageLinks+":"+V[e].resizeFrom+":"+V[e].widthCalculationMethod}function z(t,o){function r(){var e=o&&o.id||D.id+N++;return null!==document.getElementById(e)&&(e+=N++),e}function a(){var e=V[m]&&V[m].firstRun,n=V[m]&&V[m].heightCalculationMethod in q;!e&&n&&y({iframe:t,height:0,width:0,type:"init"})}function u(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function d(e){for(var n in D)Object.prototype.hasOwnProperty.call(D,n)&&(V[m][n]=Object.prototype.hasOwnProperty.call(e,n)?e[n]:D[n])}function f(e){return""===e||null!==e.match(/^(about:blank|javascript:|file:\/\/)/)?"*":e}function l(e){var n=e.split("Callback");if(2===n.length){var i="on"+n[0].charAt(0).toUpperCase()+n[0].slice(1);this[i]=this[e],delete this[e],s(m,"Deprecated: '"+e+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}var m=function(e){return""===e&&(t.id=e=r(),S=(o||{}).log,c(e,"Added missing iframe ID: "+e+" ("+t.src+")")),e}(t.id);!function(){return m in V&&"iFrameResizer"in t}()?(function(e){e=e||{},V[m]={firstRun:!0,iframe:t,remoteHost:t.src&&t.src.split("/").slice(0,3).join("/")},u(e),Object.keys(e).forEach(l,e),d(e),V[m]&&(V[m].targetOrigin=!0===V[m].checkOrigin?f(V[m].remoteHost):"*")}(o),function(){switch(c(m,"IFrame scrolling "+(V[m]&&V[m].scrolling?"enabled":"disabled")+" for "+m),t.style.overflow=!1===(V[m]&&V[m].scrolling)?"hidden":"auto",V[m]&&V[m].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=V[m]?V[m].scrolling:"no"}}(),function(){function e(e){1/0!==V[m][e]&&0!==V[m][e]&&(t.style[e]=V[m][e]+"px",c(m,"Set "+e+" = "+V[m][e]+"px"))}function n(e){if(V[m]["min"+e]>V[m]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),function(){"number"!=typeof(V[m]&&V[m].bodyMargin)&&"0"!==(V[m]&&V[m].bodyMargin)||(V[m].bodyMarginV1=V[m].bodyMargin,V[m].bodyMargin=V[m].bodyMargin+"px")}(),function(o){function r(){x("iFrame.onload",o,t,e,!0),a()}var u=n();u&&function(e){t.parentNode&&new e(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===t&&h(t)})})}).observe(t.parentNode,{childList:!0})}(u),i(t,"load",r),x("init",o,t,e,!0)}(k(m)),function(){V[m]&&(V[m].iframe.iFrameResizer={close:h.bind(null,V[m].iframe),removeListeners:g.bind(null,V[m].iframe),resize:x.bind(null,"Window resize","resize",V[m].iframe),moveToAnchor:function(e){x("Move to anchor","moveToAnchor:"+e,V[m].iframe,m)},sendMessage:function(e){e=JSON.stringify(e),x("Send Message","message:"+e,V[m].iframe,m)}})}()):s(m,"Ignored iFrame, already setup.")}function F(e,n){null===U&&(U=setTimeout(function(){U=null,e()},n))}function M(e,n,i){J[i]||(J[i]=setTimeout(function(){J[i]=null,e()},n))}function R(){function e(){function e(e){function n(n){return"0px"===(V[e]&&V[e].iframe.style[n])}V[e]&&function(e){return null!==e.offsetParent}(V[e].iframe)&&(n("height")||n("width"))&&x("Visibility change","resize",V[e].iframe,e)}Object.keys(V).forEach(function(n){e(n)})}function i(n){c("window","Mutation observed: "+n[0].target+" "+n[0].type),F(e,16)}var t=n();t&&function(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new t(i).observe(e,n)}()}function O(e){function n(){E("Window "+e,"resize")}c("window","Trigger event: "+e),F(n,16)}function T(){function e(){E("Tab Visable","resize")}"hidden"!==document.visibilityState&&(c("document","Trigger event: Visiblity change"),F(e,16))}function E(e,n){function i(e){return V[e]&&"parent"===V[e].resizeFrom&&V[e].autoResize&&!V[e].firstRun}Object.keys(V).forEach(function(t){i(t)&&x(e,n,V[t].iframe,t)})}function W(){i(window,"message",l),i(window,"resize",function(){O("resize")}),i(document,"visibilitychange",T),i(document,"-webkit-visibilitychange",T)}function C(){function n(e,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),z(n,e),t.push(n))}function i(e){e&&e.enablePublicMethods&&s("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var t;return o(),W(),function(o,r){switch(t=[],i(o),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),n.bind(e,o));break;case"object":n(o,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return t}}if("undefined"!=typeof window){var N=0,S=!1,H=!1,j="message".length,P="[iFrameSizer]",A=P.length,L=null,B=window.requestAnimationFrame,q={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},V={},U=null,D={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){s("onMessage function not defined")},onResized:function(){},onScroll:function(){return!0}},J={};window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){function n(n,i){z(i,e)}return this.filter("iframe").each(n).end()}):d("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof define&&define.amd?define("iframeResizer",[],C):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=C()),window.iFrameResize=window.iFrameResize||C()}}(),require(["iframeblock","iframeResizer"],function(e,n){}),define("main",function(){});